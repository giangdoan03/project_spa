<div class="p-4 text-center bg-[#f5f5f5]">
    <div class="relative">
        <img src="{{product.logo}}" alt="logo" class="mx-auto w-28 h-28 object-contain rounded-full border shadow mb-4" onerror="this.src='https://via.placeholder.com/100x100?text=Logo'">
        <div class="absolute top-2 right-2 text-xs bg-white px-2 py-1 rounded-full shadow flex items-center gap-1 cursor-pointer">
            <img src="https://cdn-icons-png.flaticon.com/512/555/555417.png" alt="globe" class="w-4 h-4"> EN
            <svg class="w-3 h-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
        </div>
    </div>

    <h1 class="text-xl font-bold mb-2">{{product.name}}</h1>
    <p class="text-sm text-gray-600 mb-4">{{{product.description}}}</p>

    <div class="mt-4 grid grid-cols-1 gap-2 text-sm justify-items-center">
        {{#if product.phone}}<p class="flex items-center gap-2"><span>üìû</span>{{product.phone}}</p>{{/if}}
        {{#if product.email}}<p class="flex items-center gap-2"><span>üìß</span>{{product.email}}</p>{{/if}}
        {{#if product.address}}<p class="flex items-center gap-2"><span>üìç</span>{{product.address}}</p>{{/if}}
        {{#if product.website}}<p class="flex items-center gap-2">
        <span>üåê</span>
        <a href="{{product.website}}" class="text-blue-600 underline" target="_blank">{{product.website}}</a>
    </p>{{/if}}
    </div>

    <div class="mt-6">
        <div class="flex justify-center rounded-full bg-gray-200 overflow-hidden w-60 mx-auto text-sm">
            <button class="w-1/2 py-2 font-medium text-orange-500 bg-white">New Product</button>
            <button class="w-1/2 py-2 text-gray-500">Top Product</button>
        </div>

        <div class="flex gap-3 mt-4 px-4">
            {{#each product.selectedProducts}}
            <div class="bg-white rounded shadow text-center p-2 w-1/3">
                <img src="{{this.image}}" class="mx-auto mb-1 object-contain h-12 w-12" onerror="this.src='https://via.placeholder.com/60x60?text=Image'">
                <p class="text-xs text-gray-600">x{{this.count}}</p>
            </div>
            {{/each}}
        </div>
    </div>

    <div class="mt-6 text-left">
        <h2 class="font-semibold text-base mb-2">Business</h2>
        {{#each product.relatedBusinesses}}
        <div class="bg-white rounded-lg p-3 mb-3 flex items-center gap-3 shadow">
            <img src="{{this.logo}}" class="w-12 h-12 rounded object-contain" onerror="this.src='https://via.placeholder.com/48x48?text=Logo'">
            <div>
                <p class="font-semibold">{{this.name}}</p>
                <p class="text-sm text-gray-600">{{this.phone}}</p>
            </div>
        </div>
        {{/each}}
    </div>
</div>
