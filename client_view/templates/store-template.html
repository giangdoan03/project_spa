<div class="p-4 text-center bg-[#f5f5f5]">
    <div class="relative">
        <img src="{{product.logo}}" alt="logo" class="h-16 w-auto  object-cover mb-3 mx-auto" onerror="this.src='https://via.placeholder.com/100x100?text=Logo'">
        <div class="absolute top-2 right-2 text-xs bg-white px-2 py-1 rounded-full shadow flex items-center gap-1 cursor-pointer">
            <img src="https://cdn-icons-png.flaticon.com/512/555/555417.png" alt="globe" class="w-4 h-4"> EN
            <svg class="w-3 h-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
        </div>
    </div>
    <div class="text-align-left text-desc bg-white rounded-lg p-4 mb-4 shadow">
        <h1 class="text-xl font-bold mb-2">{{product.name}}</h1>
        <p class="text-sm text-gray-600 mb-4">{{{product.description}}}</p>

        <div class="mt-4 grid grid-cols-1 gap-2 text-sm">
            {{#if product.phone}}<p class="flex items-center gap-2"><span>üìû</span>{{product.phone}}</p>{{/if}}
            {{#if product.email}}<p class="flex items-center gap-2"><span>üìß</span>{{product.email}}</p>{{/if}}
            {{#if product.address}}<p class="flex items-center gap-2"><span>üìç</span>{{product.address}}</p>{{/if}}
            {{#if product.website}}<p class="flex items-center gap-2">
            <span>üåê</span>
            <a href="{{product.website}}" class="text-blue-600 underline" target="_blank">{{product.website}}</a>
        </p>{{/if}}
        </div>
    </div>
    <div class="mt-6">
        <!-- Tabs -->
        <div class="flex justify-center rounded-full bg-gray-200 overflow-hidden w-60 mx-auto text-sm">
            <button id="tab-new" class="w-1/2 py-2 font-medium text-orange-500 bg-white">New Product</button>
            <button id="tab-top" class="w-1/2 py-2 text-gray-500">Top Product</button>
        </div>

        <!-- New Product Swiper -->
        <div id="list-new" class="swiper mySwiperNew mt-4 px-4">
            <div class="swiper-wrapper">
                {{#each product.selectedProducts}}
                <div class="swiper-slide w-auto">
                    <div class="bg-white rounded shadow text-left p-3 w-48 min-w-0">
                        <img src="{{this.image}}" alt="{{this.name}}" class="mx-auto mb-2 object-contain h-24 w-full rounded border" onerror="this.src='https://placehold.co/120x120'">
                        <h3 class="text-sm font-semibold truncate line-clamp-2">{{this.name}}</h3>
                        <p class="text-xs text-gray-500 mb-1 truncate">SKU: {{this.sku}}</p>
                        <p class="text-sm font-medium text-orange-600">{{formatPrice this.price}}</p>
                    </div>
                </div>
                {{/each}}
            </div>

            <div class="swiper-pagination mt-5"></div>
        </div>

        <!-- Top Product Swiper -->
        <div id="list-top" class="swiper mySwiperTop mt-4 px-4 hidden">
            <div class="swiper-wrapper">
                {{#each product.topProducts}}
                <div class="swiper-slide w-auto">
                    <div class="bg-white rounded shadow text-left p-3 w-48 min-w-0">
                        <img src="{{this.image}}" alt="{{this.name}}" class="mx-auto mb-2 object-contain h-24 w-full rounded border" onerror="this.src='https://placehold.co/120x120'">
                        <h3 class="text-sm font-semibold truncate">{{this.name}}</h3>
                        <p class="text-xs text-gray-500 mb-1">SKU: {{this.sku}}</p>
                        <p class="text-sm font-medium text-orange-600">{{formatPrice this.price}}</p>
                    </div>
                </div>
                {{/each}}
            </div>
            <div class="swiper-pagination mt-2"></div>
        </div>
    </div>

    <div class="mt-6 text-left">
        <h2 class="font-semibold text-base mb-2">Business</h2>
        {{#each product.selectedCompanies}}
        <div class="bg-white rounded-lg p-4 mb-4 shadow">
            <div class="flex items-start gap-4">
                <img src="{{safeImage this.logo}}" class="w-14 h-14 rounded object-contain border" onerror="this.src='https://placehold.co/80x80'">
                <div>
                    <p class="text-lg font-semibold">{{this.name}}</p>
                    <p class="text-sm text-gray-600">{{this.address}}, {{this.ward}}, {{this.district}}, {{this.city}}, {{this.country}}</p>
                    <p class="text-sm text-gray-600">M√£ s·ªë thu·∫ø: {{this.tax_code}}</p>
                    <p class="text-sm text-gray-600">Ng√†nh ngh·ªÅ: {{this.career}}</p>
                </div>
            </div>

            <div class="mt-3 text-sm text-gray-700 space-y-1">
                {{#if this.phone}}<p>üìû {{this.phone}}</p>{{/if}}
                {{#if this.email}}<p>üìß {{this.email}}</p>{{/if}}
                {{#if this.website}}<p>üåê <a href="https://{{this.website}}" target="_blank" class="text-blue-600 underline">{{this.website}}</a></p>{{/if}}
                {{#if this.facebook_link}}<p>üìò Facebook: {{this.facebook_link}}</p>{{/if}}
            </div>

            {{#if this.description}}
            <div class="mt-3 text-sm text-gray-600">
                <p class="font-medium">M√¥ t·∫£:</p>
                <p>{{this.description}}</p>
            </div>
            {{/if}}
        </div>
        {{/each}}
    </div>

</div>
